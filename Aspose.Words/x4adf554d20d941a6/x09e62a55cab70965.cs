using System;

namespace x4adf554d20d941a6;

internal class x09e62a55cab70965
{
	private bool x157e526dc7341cb1;

	private int x34f87ea8aae5e3f9;

	private x20de8d9377d7de69 xa965df8e46051dda;

	private x6d3ade29d016f4ea x328153a040358657;

	private xf6937c72cebe4ad1 x03d592937b5e7bd3;

	internal xf6937c72cebe4ad1 xc3819e13f60dd8e6(xf6937c72cebe4ad1 x311e7a92306d7199, int xcd3a9f82634fe5f9)
	{
		xd586e0c16bdae7fc(x311e7a92306d7199, xcd3a9f82634fe5f9);
		int num = 0;
		xf6937c72cebe4ad1 result = null;
		xf6937c72cebe4ad1 xbb84c6a76faa71e = x03d592937b5e7bd3;
		while (xbb84c6a76faa71e != null && num <= 2 && (xbb84c6a76faa71e == x03d592937b5e7bd3 || x03d592937b5e7bd3.x2c8c6741422a1298.x4af2add38e634ad4 == null || xbb84c6a76faa71e.x332a8eedb847940d != x03d592937b5e7bd3.x147605d3f215e4c9.x87d525e789cc7a5b))
		{
			xbb84c6a76faa71e.x9e19f5bd0a6dd5b7(x03d592937b5e7bd3.xc255c495fd9232ca);
			xf6937c72cebe4ad1 xf6937c72cebe4ad2 = x5de571cf1cd1652c(xbb84c6a76faa71e);
			if (!xbb84c6a76faa71e.x8c84b6fad60c11f5)
			{
				return null;
			}
			if (num <= 0)
			{
				result = xf6937c72cebe4ad2;
			}
			if (num > 0 || xf6937c72cebe4ad2.xc821290d7ecc08bf + xf6937c72cebe4ad2.x851c2023f5f1cc29 > x34f87ea8aae5e3f9)
			{
				num++;
			}
			if (x5566e2d2acbd1fbe.x80b95148e8799434(xf6937c72cebe4ad2.x028068b313735e89.x5566e2d2acbd1fbe))
			{
				break;
			}
			xbb84c6a76faa71e = xf6937c72cebe4ad2.xbb84c6a76faa71e6;
		}
		return result;
	}

	private void xd586e0c16bdae7fc(xf6937c72cebe4ad1 x311e7a92306d7199, int xcd3a9f82634fe5f9)
	{
		x03d592937b5e7bd3 = x311e7a92306d7199;
		x34f87ea8aae5e3f9 = xcd3a9f82634fe5f9;
		if (x311e7a92306d7199.x53111d6596d16a99.xf684fc5abe7ca67a)
		{
			x157e526dc7341cb1 = x311e7a92306d7199.xc255c495fd9232ca.x954503abc583f675 == x954503abc583f675.x11db8fc7f469a2fc || !xa7a98231d4a67a0f.xb6299da20b77fe2a(x311e7a92306d7199);
		}
		else if (x311e7a92306d7199.x53111d6596d16a99.x00ae9a426371c468)
		{
			x157e526dc7341cb1 = x311e7a92306d7199.xc255c495fd9232ca.x954503abc583f675 == x954503abc583f675.x11db8fc7f469a2fc;
		}
	}

	private xf6937c72cebe4ad1 x5de571cf1cd1652c(xf6937c72cebe4ad1 x311e7a92306d7199)
	{
		if (x311e7a92306d7199.xe5764fe5359a6d91 && x157e526dc7341cb1)
		{
			xf6937c72cebe4ad1 xf6937c72cebe4ad2 = x311e7a92306d7199.x8e1ab904a9d99cf6();
			for (xf6937c72cebe4ad1 xf6937c72cebe4ad3 = x311e7a92306d7199; xf6937c72cebe4ad3 != null; xf6937c72cebe4ad3 = xf6937c72cebe4ad3.xbb84c6a76faa71e6)
			{
				if (!xf6937c72cebe4ad3.xe5764fe5359a6d91)
				{
					x311e7a92306d7199.xe5764fe5359a6d91 = false;
					break;
				}
				if (xf6937c72cebe4ad3 == xf6937c72cebe4ad2)
				{
					break;
				}
			}
		}
		if (!x311e7a92306d7199.xe5764fe5359a6d91)
		{
			int num = ((x311e7a92306d7199.xc821290d7ecc08bf != int.MinValue && x311e7a92306d7199.x319720dedc082a9d != int.MinValue) ? (x311e7a92306d7199.xc821290d7ecc08bf + x311e7a92306d7199.x319720dedc082a9d) : int.MinValue);
			if (x157e526dc7341cb1)
			{
				if (xa965df8e46051dda == null)
				{
					xa965df8e46051dda = new x20de8d9377d7de69();
				}
				xa965df8e46051dda.xc3819e13f60dd8e6(x311e7a92306d7199);
			}
			else
			{
				if (x328153a040358657 == null)
				{
					x328153a040358657 = new x6d3ade29d016f4ea();
				}
				x328153a040358657.xc3819e13f60dd8e6(x311e7a92306d7199, int.MinValue);
			}
			if (!x311e7a92306d7199.x8c84b6fad60c11f5)
			{
				return null;
			}
			if (x311e7a92306d7199.xc821290d7ecc08bf + x311e7a92306d7199.x319720dedc082a9d != num)
			{
				x311e7a92306d7199 = x311e7a92306d7199.x8e1ab904a9d99cf6();
				x398b3bd0acd94b61 x398b3bd0acd94b62 = x311e7a92306d7199.x147605d3f215e4c9.x556327bb6ae40c9e(x311e7a92306d7199);
				if (x398b3bd0acd94b62 != null && x398b3bd0acd94b62.xe5764fe5359a6d91)
				{
					x398b3bd0acd94b62.x379ae16af0ba8e51(x6fcedf7742596b6c.xa794cb4211c273f3);
				}
			}
		}
		return x157e526dc7341cb1 ? x311e7a92306d7199.x8e1ab904a9d99cf6() : x311e7a92306d7199;
	}

	private static bool xae37f449dc7157b5(x398b3bd0acd94b61 xd7e5673853e47af4)
	{
		x398b3bd0acd94b61 x398b3bd0acd94b62 = xd7e5673853e47af4;
		while (x398b3bd0acd94b62 != null && x398b3bd0acd94b62.x954503abc583f675 != x954503abc583f675.x48cc0c3eaf9f5f05 && (x398b3bd0acd94b62.x954503abc583f675 != x954503abc583f675.xa19781cfbe8b4961 || x398b3bd0acd94b62.xc255c495fd9232ca.x954503abc583f675 == x954503abc583f675.x11db8fc7f469a2fc))
		{
			x398b3bd0acd94b62 = x398b3bd0acd94b62.xc255c495fd9232ca;
		}
		if (x398b3bd0acd94b62 == null)
		{
			return false;
		}
		return (x398b3bd0acd94b62.x954503abc583f675 switch
		{
			x954503abc583f675.x48cc0c3eaf9f5f05 => (x8d9303345f12a846)x398b3bd0acd94b62.x332a8eedb847940d, 
			x954503abc583f675.xa19781cfbe8b4961 => xa7a98231d4a67a0f.x6382c04c8adf7d6a((x7c1e2b821e8b8220)xd7e5673853e47af4.x332a8eedb847940d), 
			_ => throw new InvalidOperationException(), 
		}).xa79651e2f1a1416e.x109e3389933c23a8.x6f6877b222ed4153;
	}
}
